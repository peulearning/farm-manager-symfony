{% extends 'base.html.twig' %}

{% block title %}RelatÃ³rios Semanais{% endblock %}

{% block body %}
  <h2 class="mb-4">ğŸ“Š RelatÃ³rios da Fazenda</h2>

  <div class="mb-4">
    <h4>ğŸ„ Total de leite produzido por semana:</h4>
    <p><strong>{{ totalLeiteSemana|number_format(2, ',', '.') }} litros</strong></p>
  </div>

  <div class="mb-4">
    <h4>ğŸŒ¾ Total de raÃ§Ã£o necessÃ¡ria por semana:</h4>
    <p><strong>{{ totalRacaoSemana|number_format(2, ',', '.') }} kg</strong></p>
  </div>

  <div class="mb-4">
    <h4>ğŸ® Animais abatidos:</h4>
    {% if animaisAbatidos is not empty %}
      <ul>
        {% for gado in animaisAbatidos %}
          <li>{{ gado.codigo }} â€” Abatido em {{ gado.dataAbate ? gado.dataAbate|date('d/m/Y H:i') : 'Data desconhecida' }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Nenhum animal abatido atÃ© o momento.</p>
    {% endif %}
  </div>

  <div>
    <h4>ğŸ„ Animais com atÃ© 1 ano e mais de 500kg de raÃ§Ã£o por semana:</h4>
    {% if animaisAteUmAno is not empty %}
      <ul>
        {% for gado in animaisAteUmAno %}
          <li>
            {{ gado.codigo }} â€” {{ gado.getRacaoSemana()|number_format(2, ',', '.') }} kg/semana
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Nenhum animal se enquadra nesse critÃ©rio.</p>
    {% endif %}
  </div>

  <hr>
  <a href="{{ path('gados_index') }}" class="btn btn-primary mt-3">Gerenciar Gados</a>
{% endblock %}
